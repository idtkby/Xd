-- Ki·ªÉm tra ID game
if game.PlaceId ~= 70876832253163 then
    return warn("Script only works in the specified game (ID: 116495829188952){Dead Rails (Game)}")
end

-- Th√¥ng b√°o khi ƒë√∫ng ID game
game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "‚úì Game Check Passed",
    Text = "Script is now executing...",
    Duration = 5
})

task.wait(3) -- ƒê·ª£i 3s tr∆∞·ªõc khi th·ª±c thi 

-- Th√¥ng b√°o khi Loaded
game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "üìÉ Script",
    Text = "Script has been loaded.",
    Duration = 5
})

task.spawn(function()
-- Khai b√°o c√°c d·ªãch v·ª• c·∫ßn thi·∫øt
local player = game.Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local camera = workspace.CurrentCamera

-- T·∫£i v√† kh·ªüi t·∫°o th∆∞ vi·ªán GUI Rayfield
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- T·∫°o c·ª≠a s·ªï giao di·ªán ch√≠nh
local Window = Rayfield:CreateWindow({
    Name = "Script By Khang",
    LoadingTitle = "Loading Hub...",
    LoadingSubtitle = "Please wait",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "MyHubFolder",
        FileName = "MyHubConfig"
    },
    Discord = {
        Enabled = false,
        Invite = "",
        RememberJoins = false
    },
    KeySystem = false,
})

-- Th√¥ng b√°o ƒë√£ t·∫£i
Rayfield:Notify({
    Title = "Welcome!",
    Content = "Script Loaded",
    Duration = 2
})

-- T·∫°o Tab Teleport
local TeleportTab = Window:CreateTab("Teleport", "Move")

TeleportTab:CreateSection("Teleport Structure")

TeleportTab:CreateButton({
    Name = "Castle",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/ringtaa/castletpfast.github.io/refs/heads/main/FASTCASTLE.lua"))()
    end,
})

TeleportTab:CreateButton({
    Name = "Tesla Lab",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/ringtaa/tptotesla.github.io/refs/heads/main/Tptotesla.lua"))()
    end,
})

TeleportTab:CreateButton({
    Name = "Fort",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/ringtaa/Tpfort.github.io/refs/heads/main/Tpfort.lua"))()
    end,
})

TeleportTab:CreateButton({
    Name = "Sterling",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/ringtaa/sterlingnotifcation.github.io/refs/heads/main/Sterling.lua"))()
    end,
})

TeleportTab:CreateButton({
    Name = "Farm",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/ringtaa/tpfarm.github.io/refs/heads/main/tptofarm.lua"))()
    end,
})

TeleportTab:CreateButton({
    Name = "Pacfisct Quest (no jump)",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/ringtaa/newpacifisct/refs/heads/main/newpacifisct.lua"))()
    end,
})

TeleportTab:CreateSection("Train Tp")

TeleportTab:CreateButton({
    Name = "Train",
    Callback = function()
        local root = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
        if not root then return end
        for _, v in ipairs(workspace:GetDescendants()) do
            if v:IsA("VehicleSeat") and v.Name == "VehicleSeat" and v.Parent and v.Parent.Name == "ConductorSeat" then
                local targetCFrame = v.CFrame - Vector3.new(0, 0.5, 0)
                for i = 1, 5 do
                    root.CFrame = targetCFrame
                    task.wait(0.05)
                end
                break
            end
        end
    end,
})

-- T·∫°o Tab Character
local CharacterTab = Window:CreateTab("Character", "User")

CharacterTab:CreateSlider({
    Name = "Nh·∫£y cao (stud)",
    Range = {0, 12.5},
    Increment = 0.1,
    Suffix = " stud",
    CurrentValue = 7.2,
    Callback = function(value)
        local humanoid = player.Character and player.Character:FindFirstChildWhichIsA("Humanoid")
        if humanoid then
            humanoid.JumpHeight = value
        end
    end,
})

CharacterTab:CreateToggle({
    Name = "Third Person Mode",
    CurrentValue = false, -- M·∫∑c ƒë·ªãnh t·∫Øt (ƒëang First Person)
    Callback = function(enabled)
        if enabled then
            player.CameraMode = Enum.CameraMode.Classic
            Rayfield:Notify({
                Title = "G√≥c nh√¨n",
                Content = "ƒê√£ chuy·ªÉn sang Third Person",
                Duration = 2,
            })
        else
            player.CameraMode = Enum.CameraMode.LockFirstPerson
            Rayfield:Notify({
                Title = "G√≥c nh√¨n",
                Content = "ƒê√£ chuy·ªÉn sang First Person",
                Duration = 2,
            })
        end
    end,
})

-- InfJump
local infJump
local infJumpDebounce = false

CharacterTab:CreateToggle({
    Name = "InfJump",
    CurrentValue = false,
    Callback = function(enabled)
        if enabled then
            if infJump then infJump:Disconnect() end
            infJumpDebounce = false
            infJump = UserInputService.JumpRequest:Connect(function()
                if not infJumpDebounce then
                    infJumpDebounce = true
                    local humanoid = player.Character and player.Character:FindFirstChildWhichIsA("Humanoid")
                    if humanoid then
                        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
                    end
                    task.wait()
                    infJumpDebounce = false
                end
            end)
        else
            if infJump then infJump:Disconnect() end
            infJumpDebounce = false
        end
    end,
})

-- Noclip
local Clip = true
local Noclipping
local floatName = "HumanoidRootPart"

CharacterTab:CreateToggle({
    Name = "Noclip",
    CurrentValue = false,
    Callback = function(enabled)
        if enabled then
            Clip = false
            task.wait(0.1)
            local function NoclipLoop()
                if not Clip and player.Character then
                    for _, part in pairs(player.Character:GetDescendants()) do
                        if part:IsA("BasePart") and part.CanCollide and part.Name ~= floatName then
                            part.CanCollide = false
                        end
                    end
                end
            end
            Noclipping = RunService.Stepped:Connect(NoclipLoop)
            Rayfield:Notify({
                Title = "Noclip",
                Content = "Noclip Enabled",
                Duration = 4,
            })
        else
            if Noclipping then
                Noclipping:Disconnect()
            end
            Clip = true
            Rayfield:Notify({
                Title = "Noclip",
                Content = "Noclip Disabled",
                Duration = 4,
            })
        end
    end,
})

-- Khai b√°o c√°c d·ªãch v·ª• c·∫ßn thi·∫øt
local PromptService = game:GetService("ProximityPromptService")
local Workspace = game:GetService("Workspace")

-- T·∫°o Toggle ƒë·ªÉ k√≠ch ho·∫°t v√† t·∫Øt ch·ª©c nƒÉng Instant Prompt
local InstantPromptToggle = CharacterTab:CreateToggle({
    Name = "Instant Proximity Prompt",
    CurrentValue = false,  -- M·∫∑c ƒë·ªãnh t·∫Øt
    Callback = function(enabled)
        if enabled then
            -- Khi toggle b·∫≠t, thi·∫øt l·∫≠p t·∫•t c·∫£ ProximityPrompt c√≥ HoldDuration = 0
            for _, v in ipairs(Workspace:GetDescendants()) do
                if v:IsA("ProximityPrompt") then
                    v.HoldDuration = 0
                end
            end
            
            -- T·ª± ƒë·ªông thi·∫øt l·∫≠p HoldDuration = 0 khi c√≥ Prompt m·ªõi b·∫Øt ƒë·∫ßu
            PromptService.PromptButtonHoldBegan:Connect(function(prompt)
                if prompt:IsA("ProximityPrompt") then
                    prompt.HoldDuration = 0
                end
            end)

            Rayfield:Notify({
                Title = "Instant Prompt Enabled",
                Content = "All proximity prompts now require no hold duration.",
                Duration = 2
            })
        else
            -- Khi toggle t·∫Øt, kh√¥ng thay ƒë·ªïi g√¨
            Rayfield:Notify({
                Title = "Instant Prompt Disabled",
                Content = "Proximity prompts will use default hold duration.",
                Duration = 2
            })
        end
    end,
})

-- Anti Idle
CharacterTab:CreateButton({
    Name = "Anti Idle",
    Callback = function()
        local Players = game:GetService("Players")
        local GC = getconnections or get_signal_cons
        if GC then
            for _, v in pairs(GC(Players.LocalPlayer.Idled)) do
                if v.Disable then
                    v:Disable()
                elseif v.Disconnect then
                    v:Disconnect()
                end
            end
        else
            local VirtualUser = cloneref(game:GetService("VirtualUser"))
            Players.LocalPlayer.Idled:Connect(function()
                VirtualUser:CaptureController()
                VirtualUser:ClickButton2(Vector2.new())
            end)
        end
        print("[Anti Idle] Anti idle is enabled")
    end,
})

local ESPTab = Window:CreateTab("ESP", "Eye") -- ID n√†y l√† h√¨nh con m·∫Øt (icon th∆∞·ªùng d√πng cho ESP)

ESPTab:CreateSection("ESP Functions")

ESPTab:CreateButton({
    Name = "Player",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/idtkby/Xd/refs/heads/main/PlayerEsp"))()
    end,
})

ESPTab:CreateButton({
    Name = "Bond",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/idtkby/DeAdRaIlsScRiPt/refs/heads/main/BondEsp"))()
    end,
})

ESPTab:CreateButton({
    Name = "StrangeMask",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/idtkby/DeAdRaIlsScRiPt/refs/heads/main/StrangeMask_Esp"))()
    end,
})

ESPTab:CreateButton({
    Name = "JadeTablet",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/idtkby/DeAdRaIlsScRiPt/refs/heads/main/JadeTabletEsp"))()
    end,
})

ESPTab:CreateButton({
    Name = "ZombieMiner",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/idtkby/DeAdRaIlsScRiPt/refs/heads/main/ZombieMinerESP"))()
    end,
})

ESPTab:CreateButton({
    Name = "Coal",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/idtkby/DeAdRaIlsScRiPt/refs/heads/main/CoalEsp"))()
    end,
})

ESPTab:CreateButton({
    Name = "SnakeOil&Bandage",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/idtkby/DeAdRaIlsScRiPt/refs/heads/main/SnakeOil%26BandageEsp"))()
    end,
})

ESPTab:CreateButton({
    Name = "Outlaw&Unicorn",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/idtkby/DeAdRaIlsScRiPt/refs/heads/main/Outlaw%26%2CUniCornEsp"))()
    end,
})

ESPTab:CreateSection("============================-Event-============================")
ESPTab:CreateSection("Easter 2025")

ESPTab:CreateButton({
    Name = "EggESP",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/idtkby/DeAdRaIlsScRiPt/refs/heads/main/EventEggESP"))()
   end,
})

-- T·∫°o Tab Other
local OtherTab = Window:CreateTab("Other", 4483362458)

OtherTab:CreateSection("My Script")

OtherTab:CreateButton({
    Name = "Dead Rails 1",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/idtkby/Xd/refs/heads/main/DeaRSMySCR"))()
    end,
})

OtherTab:CreateButton({
    Name = "10Min",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/idtkby/Xd/refs/heads/main/10mdeadrs"))()
    end,
})

OtherTab:CreateButton({
    Name = "Aimbot",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/idtkby/DeAdRaIlsScRiPt/refs/heads/main/Aimbot"))()
    end,
})

OtherTab:CreateButton({
    Name = "AimLock",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/idtkby/DeAdRaIlsScRiPt/refs/heads/main/Aimlock"))()
    end,
})

OtherTab:CreateButton({
    Name = "DropArmor Btn",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/idtkby/DeAdRaIlsScRiPt/refs/heads/main/DropArmor"))()
    end,
})

OtherTab:CreateSection("Idk")

OtherTab:CreateButton({
    Name = "Null Fire",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/InfernusScripts/Null-Fire/main/Loader"))()
    end,
})

OtherTab:CreateButton({
    Name = "NatHub",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/ArdyBotzz/NatHub/refs/heads/master/NatHub.lua"))()
    end,
})

OtherTab:CreateButton({
    Name = "Ringta",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/ringtaa/NEWFIXEDUI.github.io/refs/heads/main/ui.lua"))()
    end,
})

OtherTab:CreateButton({
    Name = "Native [Key][Good]",
    Callback = function(/
        loadstring(game:HttpGet("https://getnative.cc/script/loader"))()
    end,
})

OtherTab:CreateButton({
    Name = "Infinite Yield Edit",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/idtkby/Xd/refs/heads/main/infedit"))()
    end,
})

OtherTab:CreateButton({
    Name = "Shiftlock",
    Callback = function()
        loadstring(game:HttpGet("https://github.com/ltseverydayyou/uuuuuuu/blob/main/shiftlock?raw=true"))()
     end,
})

OtherTab:CreateButton({
    Name = "AirWeld",
    Callback = function()
        loadstring(game:HttpGet('https://raw.githubusercontent.com/hbjrev/airweld.github.io/refs/heads/main/RINGTA.lua'))()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/idtkby/Xd/refs/heads/main/Keyairweld"))()
    end,
})

OtherTab:CreateButton({
    Name = "VehicleFly",
    Callback = function()
        loadstring(game:HttpGet('https://raw.githubusercontent.com/GhostPlayer352/Test4/main/Vehicle%20Fly%20Gui'))()
    end,
})

end)
